[tox]
skipsdist = true
isolated_build = True
envlist = py38,py39,py310

[testenv]
whitelist_externals = poetry
commands =
    poetry install -v
    black src
    black --check --diff src
    isort src tests
    isort src tests --diff
    pylint --exit-zero --rcfile=tox.ini src
    pylint --exit-zero --rcfile=tox.ini --disable=missing-class-docstring,missing-function-docstring,redefined-outer-name,duplicate-code  tests
    mypy --strict src
    poetry run pytest --cov=quantfinpy tests
    sphinx-build -W -b html doc/source doc/build

[pytest]
python_files = test_*.py
norecursedirs = .tox

[coverage:run]
omit = tests/*

[FORMAT]
max-line-length=120

[isort]
profile = black
